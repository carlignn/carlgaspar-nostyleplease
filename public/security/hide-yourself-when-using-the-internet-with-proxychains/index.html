<!DOCTYPE html>
<html lang="en" class=""><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>
    
      Hide Yourself When Using the Internet With ProxyChains
    
  </title>


  <link rel="shortcut icon" type="image/x-icon" href="/logo.png" />
  
  
  
  <link rel="stylesheet" href="//localhost:1313/css/main.css" />
  
  
</head>
<body a="light">
        <main class="page-content" aria-label="Content">
            <div class="w">
<a href="/">..</a>

<article>
    <p class="post-meta">
        <time datetime="2022-09-19 06:11:00 &#43;0000 UTC">
            
                2022-09-19
            
        </time>
    </p>

    <h1>Hide Yourself When Using the Internet With ProxyChains</h1>

    
        
        
        
            
        
            
                
            
        
            
                
            
        
        
            <p style="font-size: 75%; margin-left: 4%;">tags: <a href="/tags/hacking">hacking</a>, <a href="/tags/security">security</a></p>
        
    

    <p>Anonymous browsing</p>

    <h2 id="configuring-proxychains">Configuring ProxyChains</h2>
<p>ProxyChains come preinstalled in Kali Linux. All you have to do is find it. I wasn&rsquo;t able to make the locate command work, but I found it in /etc directory.</p>
<h4 id="step-1">Step 1</h4>
<p>What you want to do is edit the configuration file. I will be using vim, feel free to use any text editor as you would prefer.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>sudo vim /etc/proxychains4.conf
</span></span></code></pre></div><p>This is what the configuration file would look like. It may look like a lot, but you only need to configure a few things.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#0f0"># proxychains.conf  VER 4.x</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#        HTTP, SOCKS4a, SOCKS5 tunneling proxifier with DNS.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># The option below identifies how the ProxyList is treated.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># only one option should be uncommented at time,</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># otherwise the last appearing option will be accepted</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#dynamic_chain</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># Dynamic - Each connection will be done via chained proxies</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># all proxies chained in the order as they appear in the list</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># at least one proxy must be online to play in chain</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># (dead proxies are skipped)</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># otherwise EINTR is returned to the app</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span>strict_chain
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># Strict - Each connection will be done via chained proxies</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># all proxies chained in the order as they appear in the list</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># all proxies must be online to play in chain</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># otherwise EINTR is returned to the app</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#round_robin_chain</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># Round Robin - Each connection will be done via chained proxies</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># of chain_len length</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># all proxies chained in the order as they appear in the list</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># at least one proxy must be online to play in chain</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># (dead proxies are skipped).</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># the start of the current proxy chain is the proxy after the last</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># proxy in the previously invoked proxy chain.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># if the end of the proxy chain is reached while looking for proxies</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># start at the beginning again.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># otherwise EINTR is returned to the app</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># These semantics are not guaranteed in a multithreaded environment.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#random_chain</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># Random - Each connection will be done via random proxy</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># (or proxy chain, see  chain_len) from the list.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># this option is good to test your IDS :)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># Make sense only if random_chain or round_robin_chain</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#chain_len = 2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># Quiet mode (no output from library)</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#quiet_mode</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## Proxy DNS requests - no leak for DNS data</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># (disable all of the 3 items below to not proxy your DNS requests)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># method 1. this uses the proxychains4 style method to do remote dns:</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># a thread is spawned that serves DNS requests and hands down an ip</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># assigned from an internal list (via remote_dns_subnet).</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># this is the easiest (setup-wise) and fastest method, however on</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># systems with buggy libcs and very complex software like webbrowsers</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># this might not work and/or cause crashes.</span>
</span></span><span style="display:flex;"><span>proxy_dns
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># method 2. use the old proxyresolv script to proxy DNS requests</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># in proxychains 3.1 style. requires `proxyresolv` in $PATH</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># plus a dynamically linked `dig` binary.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># this is a lot slower than `proxy_dns`, doesn&#39;t support .onion URLs,</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># but might be more compatible with complex software like webbrowsers.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#proxy_dns_old</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># method 3. use proxychains4-daemon process to serve remote DNS requests.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># this is similar to the threaded `proxy_dns` method, however it requires</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># that proxychains4-daemon is already running on the specified address.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># on the plus side it doesn&#39;t do malloc/threads so it should be quite</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># compatible with complex, async-unsafe software.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># note that if you don&#39;t start proxychains4-daemon before using this,</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># the process will simply hang.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#proxy_dns_daemon 127.0.0.1:1053</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># set the class A subnet number to use for the internal remote DNS mapping</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># we use the reserved 224.x.x.x range by default,</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># if the proxified app does a DNS request, we will return an IP from that range.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># on further accesses to this ip we will send the saved DNS name to the proxy.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># in case some control-freak app checks the returned ip, and denies to </span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># connect, you can use another subnet, e.g. 10.x.x.x or 127.x.x.x.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># of course you should make sure that the proxified app does not need</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># *real* access to this subnet. </span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># i.e. dont use the same subnet then in the localnet section</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#remote_dns_subnet 127 </span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#remote_dns_subnet 10</span>
</span></span><span style="display:flex;"><span>remote_dns_subnet <span style="color:#f60">224</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># Some timeouts in milliseconds</span>
</span></span><span style="display:flex;"><span>tcp_read_time_out <span style="color:#f60">15000</span>
</span></span><span style="display:flex;"><span>tcp_connect_time_out <span style="color:#f60">8000</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">### Examples for localnet exclusion</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## localnet ranges will *not* use a proxy to connect.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## note that localnet works only when plain IP addresses are passed to the app,</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## the hostname resolves via /etc/hosts, or proxy_dns is disabled or proxy_dns_old used.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## Exclude connections to 192.168.1.0/24 with port 80</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># localnet 192.168.1.0:80/255.255.255.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## Exclude connections to 192.168.100.0/24</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># localnet 192.168.100.0/255.255.255.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## Exclude connections to ANYwhere with port 80</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># localnet 0.0.0.0:80/0.0.0.0</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># localnet [::]:80/0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## RFC6890 Loopback address range</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## if you enable this, you have to make sure remote_dns_subnet is not 127</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## you&#39;ll need to enable it if you want to use an application that </span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## connects to localhost.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># localnet 127.0.0.0/255.0.0.0</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># localnet ::1/128</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## RFC1918 Private Address Ranges</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># localnet 10.0.0.0/255.0.0.0</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># localnet 172.16.0.0/255.240.0.0</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># localnet 192.168.0.0/255.255.0.0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">### Examples for dnat</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## Trying to proxy connections to destinations which are dnatted,</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## will result in proxying connections to the new given destinations.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## Whenever I connect to 1.1.1.1 on port 1234 actually connect to 1.1.1.2 on port 443</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># dnat 1.1.1.1:1234  1.1.1.2:443</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## Whenever I connect to 1.1.1.1 on port 443 actually connect to 1.1.1.2 on port 443</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## (no need to write :443 again)</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># dnat 1.1.1.2:443  1.1.1.2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## No matter what port I connect to on 1.1.1.1 port actually connect to 1.1.1.2 on port 443</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># dnat 1.1.1.1  1.1.1.2:443</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">## Always, instead of connecting to 1.1.1.1, connect to 1.1.1.2</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># dnat 1.1.1.1  1.1.1.2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># ProxyList format</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#       type  ip  port [user pass]</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#       (values separated by &#39;tab&#39; or &#39;blank&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#       only numeric ipv4 addresses are valid</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#        Examples:</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#               socks5  192.168.67.78   1080    lamer   secret</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#               http    192.168.89.3    8080    justu   hidden</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#               socks4  192.168.1.49    1080</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#               http    192.168.39.93   8080</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#       proxy types: http, socks4, socks5, raw</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#         * raw: The traffic is simply forwarded to the proxy without modification.</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#        ( auth types supported: &#34;basic&#34;-http  &#34;user/pass&#34;-socks )</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0">#</span>
</span></span><span style="display:flex;"><span>[ProxyList]
</span></span><span style="display:flex;"><span><span style="color:#0f0"># add proxy here ...</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># meanwile</span>
</span></span><span style="display:flex;"><span><span style="color:#0f0"># defaults set to &#34;tor&#34;</span>
</span></span><span style="display:flex;"><span>socks4         127.0.0.1 <span style="color:#f60">9050</span>
</span></span></code></pre></div><p>You&rsquo;ll see all the chains that you can select from, how they works are described and explained properly.</p>
<h4 id="step-2">Step 2</h4>
<p>Uncomment the <code>dynamic_chain</code> (line 10) and comment <code>static_chain</code> (line 18) by using the pound (#) sign. This way, the connection will proceed to the next address in case prior fails.</p>
<h4 id="step-3">Step 3</h4>
<p>Uncomment the default IP for Tor <code>socks4 127.0.0.1 9050</code> (line 161) then add your proxies below it (online search: free proxy servers list). You can see the example at line 145. It is advisable to add more than one proxy. Save the file afterwards.</p>
<h2 id="run-proxychains">Run ProxyChains</h2>
<p>This is how you run ProxyChains.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>proxychains &lt;servicename&gt;
</span></span></code></pre></div><p>Here are some examples.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>proxychains firefox google.com
</span></span><span style="display:flex;"><span>proxychains nmap kali.org
</span></span></code></pre></div>
</article>

            </div>
        </main>
	<script src="https://cdn.jsdelivr.net/npm/han-css@3/dist/han.min.js"></script>
    </body>
</html>
